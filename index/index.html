<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/jpg" href="../img/logo.jpg">
<title>ุฏููู ูุงุฑุณููุฑ</title>
<style>
* {margin:0;padding:0;box-sizing:border-box;font-family:'Tahoma',sans-serif;}
body {background:#f9f9f9;color:#333;transition:0.3s;}
header {background:#0077b6;color:white;padding:15px;text-align:center;position:sticky;top:0;z-index:1000;transition:0.3s;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;}
header h1 {font-size:1.5rem;margin-bottom:10px;}
.top-controls {display:flex;justify-content:center;align-items:center;gap:10px;flex-wrap:wrap;}
#searchInput {width:80%;max-width:300px;padding:10px;border:none;border-radius:8px;font-size:1rem;}
#darkModeBtn {padding:10px;border:none;border-radius:8px;cursor:pointer;font-size:1rem;background:#ffb703;color:#000;transition:0.3s;}
#darkModeBtn:hover {background:#ff9500;}
#sectionFilter {padding:10px;border:none;border-radius:8px;font-size:1rem;background:#f1f1f1;cursor:pointer;}
#mainNav {display:flex;flex-wrap:wrap;justify-content:center;background:#0096c7;padding:10px;transition:0.3s;}
#mainNav a {color:white;text-decoration:none;margin:5px 10px;font-size:0.9rem;transition:0.3s;}
#mainNav a:hover {text-decoration:underline;}
#menuToggle {display:none;font-size:1.5rem;color:white;background:none;border:none;cursor:pointer;margin-top:10px;transition:0.3s;}
@media(max-width:768px){
  #mainNav {flex-direction:column;align-items:center;display:none;}
  #mainNav.active {display:flex;}
  #menuToggle {display:block;}
}
section {padding:40px 20px;transition:0.3s;}
section h2 {margin-bottom:10px;font-size:1.3rem;color:#0077b6;text-align:center;transition:0.3s;}
.card-count {text-align:center;font-size:0.9rem;color:#555;margin-bottom:15px;}
.cards {display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;transition:0.3s;}
.card {background:white;padding:20px;border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,0.1);transition:transform 0.3s,text-shadow 0.3s;text-align:center;cursor:pointer;position:relative;overflow:hidden;}
.card:hover {transform:translateY(-5px) scale(1.02);text-shadow:0 0 5px rgba(0,0,0,0.2);}
footer {background:#0077b6;color:white;text-align:center;padding:15px;margin-top:20px;transition:0.3s;}
footer p {font-size:0.9rem;}
html {scroll-behavior:smooth;}
#backToTop {display:none;position:fixed;bottom:20px;left:20px;z-index:100; background:#ffb703;color:#000;border:none;border-radius:50%;padding:12px 16px;font-size:18px;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,0.3);transition:0.3s;opacity:0;transform:scale(0.8);}
#backToTop.show {display:block;opacity:1;transform:scale(1);}
#backToTop:hover {background:#ff9500;}
body.dark {background:#121212;color:#f1f1f1;}
body.dark header {background:#1d3557;}
body.dark #mainNav {background:#457b9d;}
body.dark #mainNav a {color:#f1f1f1;}
body.dark section h2 {color:#a8dadc;}
body.dark .card {background:#1e1e1e;color:#f1f1f1;box-shadow:0 2px 6px rgba(255,255,255,0.1);}
body.dark footer {background:#1d3557;}
body.dark #darkModeBtn {background:#222;color:#fff;}
.highlight {background-color: yellow; color: black;}
#modalOverlay {display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);justify-content:center;align-items:center;z-index:10000;transition:0.3s;}
#modal {background:white;padding:20px;border-radius:12px;min-width:250px;max-width:90%;text-align:center;position:relative;transition:0.3s;}
#modal p {margin-bottom:15px;word-break:break-word;}
#modal button {padding:10px;border:none;border-radius:8px;background:#ffb703;color:#000;cursor:pointer;transition:0.3s;margin:5px;}
#modal button:hover {background:#ff9500;}
#modalClose {position:absolute;top:10px;right:10px;background:none;color:#333;font-size:18px;cursor:pointer;}
body.dark #modal {background:#1e1e1e;color:#f1f1f1;}
body.dark #modal button {background:#222;color:#fff;}
body.dark #modalClose {color:#fff;}
.share-btns {margin-top:10px;}
.share-btns button {padding:5px 10px;border:none;border-radius:8px;cursor:pointer;background:#0077b6;color:white;transition:0.3s;margin:0 5px;}
.share-btns button:hover {background:#0096c7;}
#toast {position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#333;color:white;padding:10px 20px;border-radius:8px;opacity:0;transition:0.5s;z-index:20000;}
#toast.show {opacity:1;}

/* ุงูุจุฑูุชููููู */
#portfolio {background:#ffb703;color:#000;padding:15px;border-radius:12px;display:flex;align-items:center;gap:15px;z-index:1001;box-shadow:0 2px 6px rgba(0,0,0,0.2);}
#portfolio img {width:100px;height:100px;border-radius:50%;border:3px solid #fff;object-fit:cover;}
#portfolio .info {display:flex;flex-direction:column;}
#portfolio .info span {margin:2px 0;}
#portfolio .buttons {display:flex;gap:5px;margin-top:5px;}
#portfolio .buttons button {padding:5px 8px;border:none;border-radius:6px;cursor:pointer;background:#0077b6;color:white;transition:0.3s;}
#portfolio .buttons button:hover {background:#0096c7;}
@media(max-width:768px){
  #portfolio {flex-direction:column;align-items:center;}
}
</style>
</head>
<body>

<header>
<h1>๐ ุฏููู ูุงุฑุณููุฑ</h1>
<div class="top-controls">
  <select id="sectionFilter">
    <option value="all">ูู ุงูุฃูุณุงู</option>
    <option value="clinics">ุนูุงุฏุงุช</option>
    <option value="teachers">ูุฏุฑุณูู</option>
    <option value="engineers">ูููุฏุณูู</option>
    <option value="doctors">ุฃุทุจุงุก</option>
    <option value="craftsmen">ุญุฑูููู</option>
    <option value="transport">ูุณุงุฆู ููุงุตูุงุช</option>
    <option value="shops">ูุญูุงุช</option>
    <option value="offices">ููุงุชุจ</option>
    <option value="Labs">ูุนุงูู</option>
  </select>
  <input type="text" id="searchInput" placeholder="ุงุจุญุซ ููุง...">
  <button id="darkModeBtn">๐</button>
</div>
<button id="menuToggle">โฐ ุงููุงุฆูุฉ</button>
</header>

<!-- ุจุฑูุชููููู ุซุงุจุช -->
<div id="portfolio">
<img src="../img/info.jpg" alt="ูุญููุฏ ุฌุงุจุฑ">
<div class="info">
<span><strong> ูููุฏุณ - ูุญููุฏ ุฌุงุจุฑ      </strong></span>
<span>ูููุฏุณ ุจุฑูุฌูุงุช</span>
<span>ุนุถู ูุฌูุฉ ุงูุฅุชุตุงูุงุช ู ุชูููููุฌูุง ุงููุนูููุงุช ูู ูุคุณุณุฉ ูููุฏุณูู ูู ุฃุฌู ูุตุฑ
  <br> ุฏุจูููุฉ ูุธู ุงููุนูููุงุช - ูููุฉ ุงูุญุงุณุจุงุช ู ุงูุฐูุงุก ุงูุฅุตุทูุงุนู - ุฌุงูุนุฉ ุฏููุงุท
  <br> ุฏ-ูุงุฌุณุชูุฑ ูุธู ุงููุนูููุงุช - ูููุฉ ุงูุญุงุณุจุงุช ู ุงูุฐูุงุกุงูุฅุตุทูุงุนู - ุฌุงูุนุฉ ุฏููุงุท
</span>
<span>01018813328</span>
<div class="buttons">
<button onclick="copyPortfolioNumber()">ูุณุฎ ุงูุฑูู</button>
<button onclick="sharePortfolioWhats()">ูุงุชุณุงุจ</button>
<button onclick="sharePortfolioFB()">ููุณุจูู</button>
</div>
</div>
</div>

<nav id="mainNav">
<a href="#clinics">ุนูุงุฏุงุช</a>
<a href="#teachers">ูุฏุฑุณูู</a>
<a href="#engineers">ูููุฏุณูู</a>
<a href="#doctors">ุฃุทุจุงุก</a>
<a href="#craftsmen">ุญุฑูููู</a>
<a href="#transport">ูุณุงุฆู ููุงุตูุงุช</a>
<a href="#shops">ูุญูุงุช</a>
<a href="#offices">ููุงุชุจ</a>
<a href="#Labs">ูุนุงูู</a>
</nav>

<!-- ุงูุฃูุณุงู -->
<section id="clinics">
<h2>๐ฅ ุนูุงุฏุงุช</h2>
<div class="internal-filter">
  <label>ููุชุฑุฉ ุญุณุจ ุงูููุน: </label>
  <select class="typeFilter">
    <option value="all">ูู ุงูุฃููุงุน</option>
    <option value="ุฃุณูุงู">ุฃุณูุงู</option>
    <option value="ุฃุทูุงู">ุฃุทูุงู</option>
  </select>
</div>
<div class="card-count"></div>
<div class="cards">
  <div class="card" data-type="ุฃุณูุงู">ุนูุงุฏุฉ ุตุญุฉ ูุทุจ ู ูู ุงูุฃุณูุงู- ุฏูุชูุฑ ุฅุจุฑุงููู ูุญููุฏ ุฃุจู ุณูุงูุฉ   - ุทุจูุจ ุฃุณูุงู -   <p style="color: red; font-weight: bold; ">ุฎุตู 15% ูููุดู ุนูุฏ ุฏูุชูุฑ ุฅุจุฑุงููู ููู ูุฑูุญ ูู ูู ุฎูุงู ุงูุฃุจูููุดู</p> - ุฏููุงุท- ูุงุฑุณููุฑ- ุฃููุงุฏ ุฎูู-ููุฒู ุณุนุฏ ุณููู-ุฃูุงู ูุฏุฑุณุฉ ุฃููุงุฏ ุฎูู ุงูุฅุจุชุฏุงุฆูุฉ - 01114122771</div>
  <div class="card" data-type="ุฃุณูุงู">ุนูุงุฏุฉ ุฏูุชูุฑ ูุงุฒู ุนุณููู  - ุทุจูุจ ุฃุณูุงู -  ุฏููุงุท ูุงุฑุณููุฑ ุจุฑุฌ ุงูุตูุง ุจุฌูุงุฑ ูุณุชุดูู ุงูุชุฃููู ูุณุชุดูู ุงูุชุฃููู ุงูุตุญู ููุนุฑุถ ุงูุงุณูุฑ ููุณูุงุฑุงุช ุงุนูุง ุจูู ูุตุฑ ุงูุฌุฏูุฏ - 01227700098</div>
</div>
</section>

<section id="teachers">
<h2>๐จโ๐ซ ูุฏุฑุณูู</h2>
<div class="internal-filter">
  <label>ููุชุฑุฉ ุญุณุจ ุงููุงุฏุฉ: </label>
  <select class="typeFilter">
    <option value="all">ูู ุงูููุงุฏ</option>
    <option value="ุฑูุงุถูุงุช">ุฑูุงุถูุงุช</option>
    <option value="ูุบุฉ ุนุฑุจูุฉ">ูุบุฉ ุนุฑุจูุฉ</option>
  </select>
</div>
<div class="card-count"></div>
<div class="cards">
  <div class="card" data-type="ุฑูุงุถูุงุช">ูุณุชุฑ ูุญูุฏ ุงูุณุฑูู - ูุฏุฑุณ ุฑูุงุถูุงุช - ูุงุฑุณููุฑ  - 01007116366</div>
  <!--<div class="card" data-type="ูุบุฉ ุนุฑุจูุฉ">ุฃ/ ุณุงุฑุฉ - ูุบุฉ ุนุฑุจูุฉ - 01044444444</div> -->
</div>
</section>

<section id="engineers">
<h2>๐ทโโ๏ธ ูููุฏุณูู</h2>
<div class="internal-filter">
  <label>ููุชุฑุฉ ุญุณุจ ุงูุชุฎุตุต: </label>
  <select class="typeFilter">
    <option value="all">ูู ุงูุชุฎุตุตุงุช</option>
    <option value="ุจุฑูุฌูุงุช">ุจุฑูุฌูุงุช</option>
    <option value="ูุฏูู">ูุฏูู</option>
  </select>
</div>
<div class="card-count"></div>
<div class="cards">
  <div class="card" data-type="ุจุฑูุฌูุงุช">ู/ ูุญููุฏ ุฌุงุจุฑ  -ูููุฏุณ ุจุฑูุฌูุงุช - 01018813328</div>
 <!-- <div class="card" data-type="ูุฏูู">ู/ ุนูู - ูุฏูู - 01066666666</div> -->
</div>
</section>

<section id="doctors">
<h2>๐จโโ๏ธ ุฃุทุจุงุก</h2>
<div class="internal-filter">
  <label>ููุชุฑุฉ ุญุณุจ ุงูุชุฎุตุต: </label>
  <select class="typeFilter">
    <option value="all">ูู ุงูุชุฎุตุตุงุช</option>
    <option value="ุจุงุทูุฉ">ุจุงุทูุฉ</option>
    <option value="ุนููู">ุนููู</option>
  </select>
</div>
<div class="card-count"></div>
<div class="cards">
  <!--<div class="card" data-type="ุจุงุทูุฉ">ุฏ. ุณุงูู - ุจุงุทูุฉ - 01077777777</div>
  <div class="card" data-type="ุนููู">ุฏ. ูุงูุฉ - ุนููู - 01088888888</div> -->
</div>
</section>

<section id="craftsmen">
<h2>๐๏ธ ุญุฑูููู</h2>
<div class="internal-filter">
  <label>ููุชุฑุฉ ุญุณุจ ุงูููุน: </label>
  <select class="typeFilter">
    <option value="all">ูู ุงูุฃููุงุน</option>
    <option value="ูุฌุงุฑ">ูุฌุงุฑ</option>
    <option value="ุณุจุงู">ุณุจุงู</option>
  </select>
</div>
<div class="card-count"></div>
<div class="cards">
 <!-- <div class="card" data-type="ูุฌุงุฑ">ูุฌุงุฑ - ุนูุงุฏ - 01099999999</div>
  <div class="card" data-type="ุณุจุงู">ุณุจุงู - ูุญูุฏ - 01010101010</div> -->
</div>
</section>

<section id="transport">
<h2>๐ ูุณุงุฆู ููุงุตูุงุช</h2>
<div class="internal-filter">
  <label>ููุชุฑุฉ ุญุณุจ ุงูููุน: </label>
  <select class="typeFilter">
    <option value="all">ูู ุงูุฃููุงุน</option>
    <option value="ุณุงุฆู">ุณุงุฆู</option>
    <option value="ุณุงุฆู ูููุฑูุจุงุต">ุณุงุฆู ูููุฑูุจุงุต</option>
    <option value="ุชูุตูู ุฏุฑูุณ ู ูุฏุงุฑุณ">ุชูุตูู ุฏุฑูุณ ู ูุฏุงุฑุณ</option>
  </select>
</div>
<div class="card-count"></div>
<div class="cards">
  <div class="card" data-type="ุณุงุฆู">ุญุณู ุบุฑูุจ - ุณุงุฆู ุฏุฑุฌุฉ ุฃููู - ูุงุฑุณููุฑ - 01006669936</div>
  <div class="card" data-type="ุณุงุฆู ูููุฑูุจุงุต">ุนุฑูุงุช ุงูุฎูุงุฑู - ุณุงุฆู ูููุฑูุจุงุต - ุนุฒุจู ุงูุฌูุฏู - 01007600768</div> 
  <div class="card" data-type="ุชูุตูู ุฏุฑูุณ ู ูุฏุงุฑุณ">ุทุงุฑู ุจุดุชู ุงุจู ุฒูุงุฏ ูุฎุฏูุงุช ุงููุฏุงุฑุณ ูุงูุฏุฑูุณ  - ุตุงุญุจ ุจุงุต ุชูุตูู ูุฏุงุฑุณ ูุฏุฑูุณ  - ูุงุฑุณููุฑ  - 01069521600</div> 
</div>
</section>

<section id="shops">
<h2>๐ฌ ูุญูุงุช</h2>
<div class="internal-filter">
  <label>ููุชุฑุฉ ุญุณุจ ุงูููุน: </label>
  <select class="typeFilter">
    <option value="all">ูู ุงูุฃููุงุน</option>
    <option value="ุฃุญุฐูุฉ">ุฃุญุฐูุฉ</option>
    <option value="ููุฑูุดุงุช ู ูุฑุงุชุจ">ููุฑูุดุงุช ู ูุฑุงุชุจ</option>
    <option value="ุฏูููุฑุงุช ู ุชุดุทูุจุงุช">ุฏูููุฑุงุช ู ุชุดุทูุจุงุช</option>
    <option value="ุฎุฏูุงุช ููุจููุชุฑ">ุฎุฏูุงุช ููุจููุชุฑ</option>
  </select>
</div>
<div class="card-count"></div>
<div class="cards">
 <div class="card" data-type="ุฃุญุฐูุฉ">ูุญู ูุงู ุดูุฒ ููุงุญุฐูู    - ุชุงุฌุฑ ุงุญุฐูู - ูุงุฑุณููุฑ ุดุงุฑุน ุงูุณูู ููุงุจู ุนุทุงุฑุฉ ุงูุฌูุงุฏู - 01090249000</div>
  <div class="card" data-type="ููุฑูุดุงุช ู ูุฑุงุชุจ">ููุฑูุดุงุช ุงููุงุจ ุงููููุฌู  - ููุฑูุดุงุช ููุฑุงุชุจ - ูุงุฑุณููุฑ ููุจุฑู ููุงูู ุงูุงู ุญุฏููู ุงูุทูู ุจุฌูุงุฑ ูุณุฌุฏ ููุฑ ุงูุงุณูุงู - <a href="https://maps.google.com/?q=31.327795,31.717075" target="_blank">ุงูููููุดู  </a>  - 01288288337</div> 
  <div class="card" data-type="ุฏูููุฑุงุช ู ุชุดุทูุจุงุช">NeW WaY ููุงุซุงุซ ุงูููุชุจู ูุฏูููุฑ ุงูุญุจุณ ุจูุฑุฏ
    ูุฌููุน ุงุนูุงู ุงูุฏูููุฑ ูุงูุชุดุทูุจุงุช         - ูุงุฑุณููุฑ ุจุฌูุงุฑ ูุฑู ุงููุคุณุณู ููุนูุด ุฎูู ุตูุฏููุฉ ุงููุฏู  - 01000037308</div>
    <div class="card" data-type="ุฏูููุฑุงุช ู ุชุดุทูุจุงุช">ููุฉ ูุชุฑููุจ ูุชูุฑูุฏ ุงูุฌุจุณ ุจูุฑุฏ       - ุชุงุฌุฑ ููุงุฏ ุจูุงุก  - ูุงุฑุณููุฑ ุนุฒุจุฉ ุนุดูุงูู ุจุฌูุงุฑ ุงูููุจุฑู ุงูุนููู  - 01099533635</div>
    <div class="card" data-type="ุฎุฏูุงุช ููุจููุชุฑ">ูุณุชุฑ ูุญูุฏ ุงุจู ุงููุฌุง ููุชุจ ุฏุฑูู ูุฎุฏูุงุช ุงูููุจููุชุฑ ููุงููุฑุงุช ุงููุฑุงูุจู   - ูุฏุฑุณ ููุจููุชุฑ    - ููุฑ ุงูุนุฑุจ ุดุงุฑุน ุงูุจุฑูุฏ  - 01069950720</div>
</div>
</section>

<section id="offices">
<h2>๐ข ููุงุชุจ</h2>
<div class="internal-filter">
  <label>ููุชุฑุฉ ุญุณุจ ุงูููุน: </label>
  <select class="typeFilter">
    <option value="all">ูู ุงูุฃููุงุน</option>
    <option value="ูุญุงูุงุฉ">ูุญุงูุงุฉ</option>
    <option value="ููุงููุงุช">ููุงููุงุช</option>
  </select>
</div>
<div class="card-count"></div>
<div class="cards">
 <!-- <div class="card" data-type="ูุญุงูุงุฉ">ููุชุจ ูุญุงูุงุฉ - ุงููุณุชุดุงุฑ ูุญููุฏ - 01014141414</div>
  <div class="card" data-type="ููุงููุงุช">ููุชุจ ููุงููุงุช - ุดุฑูุฉ ุงูุจูุงุก - 01015151515</div> -->
</div>
</section>



<section id="Labs">
  <h2>๐ ูุนุงูู</h2>
  <div class="internal-filter">
    <label>ููุชุฑุฉ ุญุณุจ ุงูููุน: </label>
    <select class="typeFilter">
      <option value="all">ูู ุงูุฃููุงุน</option>
      <option value="ูุนุงูู ุทุจูุฉ">ูุนุงูู ุทุจูุฉ</option>
      
    </select>
  </div>
  <div class="card-count"></div>
  <div class="cards">
    <div class="card" data-type="ูุนุงูู ุทุจูุฉ">ูุนูู ุงููุณุชูุจู ููุชุญุงููู ุงูุทุจูู - ูุงุฑุณููุฑ ุดุงุฑุน ุงูุฏูุจ ุงูุงู ูุญู ุนูู ูุณุจู ููุงุฏูุงุช ุงูููุฒููู ูุงุนูู ุฒูู ูุฑุงุฏ ุงููุฌููุฑุงุช  - 01090986366</div>
    
  </div>
  </section>



<footer>
<p>ุฌููุน ุงูุญููู ูุญููุธุฉ &copy; ูููุฏุณ - ูุญููุฏ ุฌุงุจุฑ</p>
</footer>

<button id="backToTop">โฌ</button>
<div id="toast"></div>

<div id="modalOverlay">
<div id="modal">
<button id="modalClose">โ</button>
<p id="modalText"></p>
<div class="share-btns">
  <button id="modalCopy">ูุณุฎ ุงูุฑูู</button>
  <button id="shareWhatsApp">ูุงุชุณุงุจ</button>
  <button id="shareFacebook">ููุณุจูู</button>
  <button id="callBtn">๐ ุงุชุตุงู</button>
</div>
</div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
const searchInput = document.getElementById('searchInput');
const sectionFilter = document.getElementById('sectionFilter');
const backToTop = document.getElementById('backToTop');
const darkModeBtn = document.getElementById('darkModeBtn');
const menuToggle = document.getElementById('menuToggle');
const nav = document.getElementById('mainNav');
const toast = document.getElementById('toast');

const modalOverlay = document.getElementById('modalOverlay');
const modal = document.getElementById('modal');
const modalText = document.getElementById('modalText');
const modalClose = document.getElementById('modalClose');
const modalCopy = document.getElementById('modalCopy');
const shareWhatsApp = document.getElementById('shareWhatsApp');
const shareFacebook = document.getElementById('shareFacebook');
const callBtn = document.getElementById('callBtn');

const allCards = document.querySelectorAll('.card');

// ุฎุฒู ุงููุต ุงูุฃุตูู ููู ูุงุฑุช
allCards.forEach(card=>{
  card.dataset.original = card.textContent;
});

// ููุชุฑ ุฏุงุฎูู ููู ุงูุฃูุณุงู
document.querySelectorAll('.typeFilter').forEach(filter=>{
  filter.addEventListener('change',()=>{
    const val = filter.value;
    const section = filter.closest('section');
    section.querySelectorAll('.card').forEach(card=>{
      const original = card.dataset.original;
      card.textContent = original;
      card.style.display = (val==='all' || card.dataset.type===val) ? '' : 'none';
    });
    updateCardCounts();
  });
});

// ุชุญุฏูุซ ุนุฏุงุฏ ุงููุฑูุช
function updateCardCounts(){
  document.querySelectorAll('section').forEach(sec=>{
    const count=sec.querySelectorAll('.card:not([style*="display: none"])').length;
    sec.querySelector('.card-count').textContent=`ุนุฏุฏ ุงููุชุงุฆุฌ: ${count}`;
  });
}
updateCardCounts();

// escape regex
function escapeRegExp(string){return string.replace(/[.*+?^${}()|[\]\\]/g,'\\$&');}

// ุงูุจุญุซ ูุน ูุงููุงูุช
searchInput.addEventListener('input',()=>{
  const val = searchInput.value.trim();
  const reg = new RegExp(escapeRegExp(val),'gi');
  allCards.forEach(card=>{
    const originalText = card.dataset.original;
    if(originalText.match(reg)){
      card.style.display='';
      card.innerHTML=originalText.replace(reg, match=>`<span class="highlight">${match}</span>`);
    } else {
      card.style.display='none';
      card.innerHTML=originalText;
    }
  });
  updateCardCounts();
});

// ููุชุฑุฉ ุงูุฃูุณุงู ุงูุฑุฆูุณูุฉ
sectionFilter.addEventListener('change',()=>{
  const val = sectionFilter.value;
  document.querySelectorAll('section').forEach(sec=>{
    sec.style.display = (val==='all'||sec.id===val)?'':'none';
  });
});

// ุฒุฑุงุฑ ูุฃุนูู
window.addEventListener('scroll',()=>{
  if(window.scrollY>200){backToTop.classList.add('show');}else{backToTop.classList.remove('show');}
});
backToTop.addEventListener('click',()=>{window.scrollTo({top:0,behavior:'smooth'});});

// ุฏุงุฑู ููุฏ
darkModeBtn.addEventListener('click',()=>{document.body.classList.toggle('dark');});

// ูููู ุงูููุจุงูู
menuToggle.addEventListener('click',()=>{nav.classList.toggle('active');});

// ุงูููุฏุงู ูุนุฑุถ ุงูุจูุงูุงุช
allCards.forEach(card=>{
  card.addEventListener('click',()=>{
    const parts = card.dataset.original.split(" - ");
    modalText.innerHTML = parts.map(p=>`<p>${p}</p>`).join("");
    modalOverlay.style.display='flex';
    const phone = parts.find(p=>p.match(/^01\d{9}$/));
    modalCopy.dataset.number=phone||"";
    callBtn.dataset.number=phone||"";
  });
});
modalClose.addEventListener('click',()=>{modalOverlay.style.display='none';});
modalOverlay.addEventListener('click',(e)=>{if(e.target===modalOverlay)modalOverlay.style.display='none';});

// ูุณุฎ ุงูุฑูู ูุฅุดุนุงุฑุงุช
function showToast(msg){
  toast.textContent=msg;toast.classList.add('show');
  setTimeout(()=>{toast.classList.remove('show');},2000);
}
modalCopy.addEventListener('click',()=>{
  const num=modalCopy.dataset.number;
  if(num){navigator.clipboard.writeText(num);showToast("ุชู ูุณุฎ ุงูุฑูู");}
});
function shareText(url){window.open(url,'_blank');}
shareWhatsApp.addEventListener('click',()=>{
  const num=modalCopy.dataset.number;
  shareText(`https://wa.me/${num}`);
});
shareFacebook.addEventListener('click',()=>{
  shareText(`https://www.facebook.com/sharer/sharer.php?u=tel:${modalCopy.dataset.number}`);
});
callBtn.addEventListener('click',()=>{
  const num=callBtn.dataset.number;
  if(num){window.location.href=`tel:${num}`;}
});

// ุจุฑูุชููููู ุฃุฒุฑุงุฑ
window.copyPortfolioNumber = ()=>{navigator.clipboard.writeText("01018813328");showToast("ุชู ูุณุฎ ุงูุฑูู");};
window.sharePortfolioWhats = ()=>{shareText("https://wa.me/01018813328");};
window.sharePortfolioFB = ()=>{shareText("https://www.facebook.com/sharer/sharer.php?u=tel:01018813328");};
});
</script>
</body>
</html>
